(function () {
  'use strict';

  var RULES_TEXT = `Terms & Conditions
(TO BE READ CAREFULLY AND THOROUGHLY)

(GLH Participant Learning Policies)

-    This document serves as notification regarding contractual requirements and duties, organizational policies and by-laws, in addition to other registration documentation. This document is complete as a whole. It will not be accepted with any selected or deleted parts.

-    Please read it carefully before proceeding further with Registration process. If unable to understand a certain part, it is highly recommended that the student/ participant/ candidate has it read and explained to them by someone else. By proceeding to complete Registration process, the student/ participant/ candidate understands, and agrees to all the clauses of this Terms and Conditions document.
               
1. General Requirements:

Our regular/online courses are designed for individuals more than 16 years of age. Participants must be at least 16 years of age, and a proof of age should be furnished at the time of registration.
 
2. Registration Procedure:

a)  Please download and complete the registration form available online, or email at germanlearninghub1@hotmail.com to request a copy.
b)  Following documents are required for registration purposes. To be sent/emailed to, germanlearninghub1@hotmail.com
    - Completed Registration Form
- Scanned copy of your latest Photograph
- CNIC/form B and Academic Certificate
- Scanned copy of your last academic degree
- You may be contacted for further documents for registration purposes for your candidacy.
(on a case to case basis)
c)  Upon successful submission and acceptance of above registration documents, the candidate will receive a confirmation e-mail from GLH.
d)  After receiving the e-mail, the candidate will be required to transfer the Course Fee, and Curriculum books Fee to our bank account. (Bank/ Account Information below)
e)  After transferring of above funds, the candidate will have to send/ email us the Fund transfer proof.
f)  After receiving the proof of bank remittance from the candidate, GLH will send final Fee Receipt/ Invoice to the candidate via post or e-mail (students residing in countries other than Pakistan.)

3. Level Test:

Students having prior knowledge of German who desire to attend a higher-level course. OR students with a gap of more than six months from their last Goethe-Examination will be required to take the ‘Level Test’ prior to final registration.
Placement in higher course levels is based on the result of above ‘Level Test’. Results will be determined by GLH faculty, and will be considered final.
4. Terms of Payment:
We only accept, Bank transfers, ATM transfers, and Direct Deposits for fees (Account information below)
•    Bank transfer – It can be done through e-banking. Interested candidates can execute the transfer themselves, or ask someone for transfer on their behalf (relative or friend) via Online Banking Portal.
•    ATM transfer – It can be done from any ATM-machine.
•    Direct deposits -  Candidates can visit any Allied Bank branch situated near their area, and deposit cash in our bank account.
Please follow individual process of Banking system for transferal via above routes.
Documentary evidence of the payment
To be emailed to: germanlearninghub1@hotmail.com
•    Bank-transfer/e-banking:       Screenshot of payment confirmation.
•    ATM-transfer:                       Picture of the ATM receipt
•    Direct deposit:                     Picture of deposit slip
Account details of the German Learning Hub (Allied Bank)
•    Account Title:        German Learning Hub (GLH)
•    IBAN/Account Number:                       PK08ABPA0010082899360015
Please also mention your names at the time of payment.
If full payment is not received by the due date, the participant will lose the right to participate in that specific course. Part payments are not accepted.

5. Course Fee:

The contractually binding Course Fee is the fee stated in the price list at the time of application.
Unless stated specifically, Curriculum/ Course books must be purchased separately, in addition to the course fee.
First class session is provided as a demo without charge. Afterwards, based on the students interest, a level test may be administer to evaluate the students knowledge and learning level. Any further teaching/ classes thereafter will be provided after receipt of full fee for the course.
Fee is always to be made in full, and will not be accepted in installments.
6. Cancellation and Refunds (Courses):
In case of cancellation five working days prior to commencement of the course, the course fee shall be refunded after deducting an administrative charge equivalent to 25% of the course fee.
In case of cancellation within the last five working days before the commencement of the course, the course fee shall be refunded after deducting an administrative charge equivalent to 50% of the course fee.
Refunds (if any), will be provided back to the student (after compulsory deductions as above), and after further deduction of charges for percentage of classes used by the student from the total course.
Cancellations must be submitted in writing and refunds shall be made within 10 working days after the commencement of the course. Thereafter no refunds shall be possible. If GLH cancels a course, the full course fee shall be reimbursed.
Curriculum/Book costs are not reimbursed under any circumstances.
Due to banking and accounting processes, refunds (if any) will be provided to the student 21 working days after the refund is approved by GLH.
7. Course Participation Certificate
Participants must have 80% attendance, and also must pass GLH internal final exam to be entitled to an “Course Certificate”.
If a student is deemed to have lesser than 80% attendance, then 3 warnings will be given to the student by GLH. In the event of further absences, the student will be rusticated, and removed from the course.
Course freeze/ course hold are not permitted. Once a course is started for a student, it cannot be frozen for held for later participation. So students are highly recommended to enroll once they are sure that they can complete the whole course in that specific attempt.
8. Class Size
- Online -  Minimum 7 and maximum 12 participants.
- On Campus - Minimum 10 and maximum 15 participants.
If enrollments are insufficient on the starting date, GLH reserves the right to cancel or postpone the course. In this case we will offer the participants the opportunity to move to another course or to receive a full refund of the course fee.


9. Liability of German Learning Hub
We strive to provide a safe learning environment to all our students. Since students join at their own free will, GLH will not liable for any (unlikely) physical injury or bodily/ psychological harm to the participant while on site, or during attending an online course.  GLH also will not have Strict/ Personal/ Financial liability as an outcome of any learning course. GLH will also have no liability for cancellation of its services due to force majeure (e.g. unrest, act of war or terrorism, natural calamities, epidemics, pandemics and all other circumstances beyond the control of the contractual parties).
Should such cases of extraordinary circumstances or events occur or should there be a change in the existing circumstances or events, caused by factors that are beyond  the sphere of influence of GLH, the Institute shall reserve the right to make changes in the ongoing course structure (e.g. in terms of time, methodology or format). Should the circumstances not allow the above-mentioned changes, in that case GLH shall cancel the course without any alternative offer and financial compensation.

10. Class Discipline
As stated above, GLH strives to provide a safe learning environment to all our students.  GLH reserves the right to expel a participant from any of its online/ in-person courses for lack of discipline as below.
Students/ Participants are expected to follow basic ethical/ moral rules while attending classes. Improper behavior including (but not limited to) physical or verbal assault, harassment, name-calling, absenteeism, class disturbance, profanity, false humor, rudeness, incorrect/ unacceptable behavior and other ethical/ moral breaches of  educational environment (as deemed by faculty and other students/ participants) will be taken very seriously. After due process of warning, the student will be struck off/ expelled from further classes with either none/ or pro-rated reimbursement of earlier submitted fees.
Full course will be provided based on student learning ability/ grasp of course material, student discipline, and course attendance, in addition other factors in other parts of this agreement. For extreme violations of GLH policies, the student can be expelled without refund based on the circumstances of expulsion.
In addition, GLH holds the right to further appropriate legal action for any serious breaches.  Further details on disciplinary matters can be discussed with GLH partnership and faculty.

11. Student/ Participant Educational Participation:
All students/ participants are expected to do their home work, and recommended studies to improve their language learning. If a student is noticed to be lagging behind the rest of class, mitigatory efforts will be done by GLH faculty to improve student learning.
In case that a student shows non-serious learning behaviour, shows poor class participation, shows lack of effort to learn, or fails to improve learning with above mitigation by GLH instructors; it will lead to educational probation, and student will need to re-take the course. Otherwise a failing grade without final Certificate will be given to student without fee reimbursement.
12. Class Materials
- Learning Materials will be provided by GLH, including Curriculum/ Course books.
- Photocopying, electronically transmitting, or sharing of the provided materials will be taken very seriously and may lead to student expulsion.
- Use of provided learning materials by 3rd parties is illegal, and strict legal action will be taken to prohibit such use.
- Course materials/ and books will have to be returned by the student to GLH immediately, if the student is expelled from GLH, OR if the student leaves GLH for other reasons.
13. Contact Us:
Please contact us if you have any questions. Our information is as below (Email/Phone preferred)
Email: germanlearninghub1@hotmail.com    
Phone: +92 334 8531900
Mailing Address: 194, Street 10, G-10/1, Islamabad, Pakistan.

THIS AGREEMENT ALSO SERVES AS ACKNOWLEDGENENT AND STANDS AS A VALID PROOF OF A DIGITAL SIGNATURE.`;

  function createModal() {
    var overlay = document.createElement('div');
    overlay.id = 'rules-modal-overlay';
    overlay.className = 'fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 opacity-0 pointer-events-none transition-opacity duration-300';
    overlay.setAttribute('aria-hidden', 'true');

    var modal = document.createElement('div');
    modal.id = 'rules-modal';
    modal.className = 'bg-white rounded-xl shadow-2xl max-w-lg w-full max-h-[85vh] flex flex-col transform scale-95 transition-transform duration-300';
    modal.setAttribute('role', 'dialog');
    modal.setAttribute('aria-labelledby', 'rules-modal-title');
    modal.setAttribute('aria-modal', 'true');

    modal.innerHTML =
      '<div class="p-6 border-b border-gray-200">' +
        '<h2 id="rules-modal-title" class="text-xl font-bold text-black">Terms & Conditions</h2>' +
        '<p class="text-sm text-gray-600 mt-1">Please read the Terms & Conditions below and agree before proceeding.</p>' +
      '</div>' +
      '<div class="p-6 overflow-y-auto flex-1 border-b border-gray-200">' +
        '<div id="rules-content" class="text-gray-700 text-sm whitespace-pre-line leading-relaxed"></div>' +
      '</div>' +
      '<div class="p-6 flex flex-col gap-4">' +
        '<label class="flex items-start gap-3 cursor-pointer group">' +
          '<input type="checkbox" id="rules-agree" class="mt-1 w-5 h-5 rounded border-gray-300 text-orange-600 focus:ring-orange-500">' +
          '<span class="text-gray-700 group-hover:text-black">I have read and agree to the Terms & Conditions</span>' +
        '</label>' +
        '<div class="flex gap-3">' +
          '<button type="button" id="rules-cancel" class="flex-1 px-4 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">Cancel</button>' +
          '<button type="button" id="rules-proceed" disabled class="flex-1 px-4 py-2.5 bg-orange-500 text-white rounded-lg font-medium opacity-50 cursor-not-allowed transition-all">Proceed</button>' +
        '</div>' +
      '</div>';

    overlay.appendChild(modal);
    document.body.appendChild(overlay);

    var contentEl = document.getElementById('rules-content');
    contentEl.textContent = RULES_TEXT;

    var checkbox = document.getElementById('rules-agree');
    var proceedBtn = document.getElementById('rules-proceed');
    var cancelBtn = document.getElementById('rules-cancel');

    function updateProceedState() {
      if (checkbox.checked) {
        proceedBtn.disabled = false;
        proceedBtn.classList.remove('opacity-50', 'cursor-not-allowed');
        proceedBtn.classList.add('hover:bg-orange-600');
      } else {
        proceedBtn.disabled = true;
        proceedBtn.classList.add('opacity-50', 'cursor-not-allowed');
        proceedBtn.classList.remove('hover:bg-orange-600');
      }
    }

    checkbox.addEventListener('change', updateProceedState);

    var pendingRedirect = null;

    function open(redirectUrl) {
      pendingRedirect = redirectUrl || null;
      checkbox.checked = false;
      updateProceedState();
      overlay.classList.remove('opacity-0', 'pointer-events-none');
      overlay.classList.add('opacity-100', 'pointer-events-auto');
      modal.classList.remove('scale-95');
      modal.classList.add('scale-100');
      document.body.style.overflow = 'hidden';
      overlay.setAttribute('aria-hidden', 'false');
    }

    function close() {
      overlay.classList.add('opacity-0', 'pointer-events-none');
      overlay.classList.remove('opacity-100', 'pointer-events-auto');
      modal.classList.add('scale-95');
      modal.classList.remove('scale-100');
      document.body.style.overflow = '';
      overlay.setAttribute('aria-hidden', 'true');
      pendingRedirect = null;
    }

    proceedBtn.addEventListener('click', function () {
      if (!checkbox.checked) return;
      var url = pendingRedirect;
      close();
      if (url) window.location.href = url;
    });

    cancelBtn.addEventListener('click', close);

    overlay.addEventListener('click', function (e) {
      if (e.target === overlay) close();
    });

    document.addEventListener('keydown', function (e) {
      if (e.key === 'Escape' && overlay.classList.contains('pointer-events-auto')) close();
    });

    return { open: open, close: close };
  }

  var modalApi = null;

  function getModal() {
    if (!modalApi) modalApi = createModal();
    return modalApi;
  }

  function init() {
    document.addEventListener('click', function (e) {
      var trigger = e.target.closest('[data-rules-modal]');
      if (!trigger) return;
      e.preventDefault();
      var link = trigger.getAttribute('data-link') || trigger.getAttribute('href');
      getModal().open(link || null);
    });
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }

  window.RulesModal = { open: function (url) { getModal().open(url); } };
})();
